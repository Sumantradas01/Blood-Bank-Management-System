<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - BBMS</title>

    <!-- Link to External CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_dashboard.css') }}">
</head>

<body>

<header>
    <h1>Blood Bank Management System</h1>
    <p>Admin & Blood Bank Staff Panel</p>
</header>

<nav>
    <a href="{{ url_for('admin_dashboard') }}">Dashboard</a>
    <a href="{{ url_for('inventory_stock') }}">Blood Inventory</a>
    <a href="{{ url_for('donor_management') }}">Donor Management</a>
    <a href="{{ url_for('request_verification') }}">Request Verification</a>
    <a href="{{ url_for('reports') }}">Reports</a>
    <a href="{{ url_for('settings') }}">Settings</a>
    <a href="{{ url_for('admin_logout') }}">Logout</a>
</nav>

<div class="container">

    <h1>Admin Dashboard</h1>
    <p>Comprehensive overview and management tools for blood bank operations.</p>

    <div class="dashboard-grid">

        <div class="card">
            <h3>Total Blood Units</h3>
            <p>{{ total_units }}</p>
            <a href="{{ url_for('inventory_stock') }}">View Inventory</a>
        </div>

        <div class="card">
            <h3>Pending Requests</h3>
            <p>{{ pending_requests }}</p>
            <a href="{{ url_for('request_verification') }}">Review Requests</a>
        </div>

        <div class="card">
            <h3>Upcoming Expiry</h3>
            <p>{{ expiry_soon }} Units (Next 7 Days)</p>
            <a href="{{ url_for('inventory_stock') }}">Manage Expiry</a>
        </div>

        <div class="card">
            <h3>Registered Donors</h3>
            <p>{{ total_donors }}</p>
            <a href="{{ url_for('donor_management') }}">Manage Donors</a>
        </div>

    </div>

    <section>
        <h2>Blood Stock Overview</h2>
        <div class="chart-placeholder">
            [Chart Placeholder]
        </div>
    </section>

    <section>
        <h2>Recent Activities / Alerts</h2>
        <div class="table-responsive">

            <table>
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>Activity</th>
                        <th>Details</th>
                        <th>Status</th>
                    </tr>
                </thead>

                <tbody>
                    {% for row in activities %}
                    <tr>
                        <td>{{ row.time }}</td>
                        <td>{{ row.activity }}</td>
                        <td>{{ row.details }}</td>
                        <td class="{{ row.status_class }}">{{ row.status }}</td>
                    </tr>
                    {% endfor %}
                </tbody>

            </table>

        </div>
    </section>
</div>

<footer>
    <p>Â© 2025 Blood Bank Management System. All rights reserved.</p>
</footer>

</body>
</html>
